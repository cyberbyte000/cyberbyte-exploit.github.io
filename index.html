<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style type="text/css">
      pre {
        outline: 1px solid #ccc;
        padding: 5px;
        margin: 5px;
      }
      .string {
        color: green;
      }
      .number {
        color: darkorange;
      }
      .boolean {
        color: blue;
      }
      .null {
        color: magenta;
      }
      .key {
        color: red;
      }
    </style>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <title>Domain Details</title>
  </head>
  <body>
    <nav class="navbar navbar-dark bg-dark">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">Domain Details Exploit By CHANAKYA NEELARAPU</span>
      </div>
    </nav>
    <div class="container" style="padding-top: 20px; padding-bottom: 10px">
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          id="domain-name"
          placeholder="Domain Name"
          aria-label="Domain Name"
          aria-describedby="domain-name"
        />
        <button
          class="btn btn-secondary"
          type="button"
          id="domain-name"
          onclick="getJSONData()"
        >
          GET Details
        </button>
      </div>
    </div>
    <hr style="margin-left: 5%; margin-right: 5%" />
    <div class="container" id="json-data-container" style="padding: 3%">
      <h3 style="margin-bottom: 15px">JSON Data</h3>
      <pre id="json-data"></pre>
    </div>

    <script>
      function getJSONData() {
        let domainName = document.getElementById("domain-name").value;

        var requestOptions = {
          method: "GET",
          redirect: "follow",
        };

        fetch(
          "https://www.komoot.com/api/geoip/json/" + domainName,
          requestOptions
        )
          .then((response) => response.json())
          .then((result) => {
            document.getElementById("json-data").innerHTML =
              syntaxHighlight(result);
          })
          .catch((error) => console.log("error", error));
      }

      function syntaxHighlight(json) {
        if (typeof json != "string") {
          json = JSON.stringify(json, undefined, 2);
        }
        json = json
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;");
        return json.replace(
          /("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,
          function (match) {
            var cls = "number";
            if (/^"/.test(match)) {
              if (/:$/.test(match)) {
                cls = "key";
              } else {
                cls = "string";
              }
            } else if (/true|false/.test(match)) {
              cls = "boolean";
            } else if (/null/.test(match)) {
              cls = "null";
            }
            return '<span class="' + cls + '">' + match + "</span>";
          }
        );
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
